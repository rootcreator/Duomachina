{% extends 'media/create_base.html' %}

{% block form_content %}
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    
    {% if form.errors %}
    <div class="alert alert-danger">
        <ul class="mb-0">
            {% for field in form %}
                {% for error in field.errors %}
                    <li><small>{{ error }}</small></li>
                {% endfor %}
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    
    <div class="mb-3">
        <label for="title" class="form-label">Title *</label>
        <input type="text" name="title" class="form-control" id="title" required>
    </div>
    
    <div class="mb-3">
        <label for="description" class="form-label">Description *</label>
        <textarea name="description" class="form-control" id="description" rows="4" required></textarea>
    </div>
    
    <div class="mb-3">
        <label for="issue_number" class="form-label">Issue Number *</label>
        <input type="number" name="issue_number" class="form-control" id="issue_number" required>
    </div>
    
    <div class="mb-3">
        <label for="category" class="form-label">Category *</label>
        <select name="category" class="form-select" id="category" required>
            <option value="">Select a category</option>
            {% for category in categories %}
            <option value="{{ category.id }}">{{ category.name }}</option>
            {% endfor %}
        </select>
    </div>
    
    <div class="mb-3">
        <label for="release_date" class="form-label">Release Date *</label>
        <input type="date" name="release_date" class="form-control" id="release_date" required>
    </div>
    
    <div class="mb-3">
        <label for="content" class="form-label">Content *</label>
        <textarea name="content" class="form-control" id="content" rows="10" required></textarea>
        <div class="form-text">You can use Markdown formatting for the content.</div>
    </div>
    
    <div class="mb-3">
        <label for="cover_image" class="form-label">Cover Image</label>
        <input type="file" name="cover_image" class="form-control" id="cover_image" accept="image/*">
    </div>
    
    <div class="mb-3">
        <label for="tags" class="form-label">Tags</label>
        <input type="text" name="tags" class="form-control" id="tags" placeholder="Enter tags separated by commas">
        <div class="form-text">Example: technology, science, lifestyle</div>
    </div>
    
    <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary">Create Magazine</button>
        <a href="{% url 'media:create_content' %}" class="btn btn-outline-secondary">Cancel</a>
    </div>
</form>
{% endblock %}

{% block tips_content %}
<ul class="list-unstyled">
    <li class="mb-2">
        <i class="bi bi-check-circle-fill text-success me-2"></i>
        Choose a clear and engaging title
    </li>
    <li class="mb-2">
        <i class="bi bi-check-circle-fill text-success me-2"></i>
        Select the most relevant category
    </li>
    <li class="mb-2">
        <i class="bi bi-check-circle-fill text-success me-2"></i>
        Add detailed, well-formatted content
    </li>
    <li class="mb-2">
        <i class="bi bi-check-circle-fill text-success me-2"></i>
        Include relevant tags for better discoverability
    </li>
</ul>
{% endblock %} 